"use client";
import React from "react";
import styles from "./QuantitySelector.module.css";

interface QuantitySelectorProps {
  quantity: number;
  onQuantityChange: (newQuantity: number) => void;
  minQuantity?: number;
  maxQuantity?: number;
}

export default function QuantitySelector({
  quantity,
  onQuantityChange,
  minQuantity = 0,
  maxQuantity = 99,
}: QuantitySelectorProps) {
  const handleDecrement = () => {
    if (quantity > minQuantity) {
      onQuantityChange(quantity - 1);
    }
  };

  const handleIncrement = () => {
    if (quantity < maxQuantity) {
      onQuantityChange(quantity + 1);
    }
  };

  return (
    <div className={styles.container}>
      <div className={styles.label}>Unidades</div>
      <div className={styles.selector}>
        <button
          className={styles.button}
          onClick={handleDecrement}
          disabled={quantity <= minQuantity}
        >
          <svg
            width="15"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M4.79804 8.8H11.198C11.4247 8.8 11.6148 8.7232 11.7684 8.5696C11.922 8.416 11.9986 8.22613 11.998 8C11.9975 7.77386 11.9207 7.584 11.7676 7.4304C11.6146 7.2768 11.4247 7.2 11.198 7.2H4.79804C4.57138 7.2 4.38151 7.2768 4.22845 7.4304C4.07538 7.584 3.99858 7.77386 3.99805 8C3.99751 8.22613 4.07431 8.41626 4.22845 8.5704C4.38258 8.72453 4.57244 8.80106 4.79804 8.8ZM7.99804 16C6.89138 16 5.85138 15.7899 4.87805 15.3696C3.90471 14.9493 3.05805 14.3795 2.33805 13.66C1.61805 12.9405 1.04818 12.0939 0.628448 11.12C0.208714 10.1461 -0.00141878 9.10613 -0.00195211 8C-0.00248545 6.89386 0.207648 5.85387 0.628448 4.88C1.04925 3.90613 1.61911 3.05947 2.33805 2.34C3.05698 1.62053 3.90365 1.05067 4.87805 0.6304C5.85244 0.210133 6.89244 0 7.99804 0C9.10364 0 10.1436 0.210133 11.118 0.6304C12.0924 1.05067 12.9391 1.62053 13.658 2.34C14.377 3.05947 14.9471 3.90613 15.3684 4.88C15.7898 5.85387 15.9996 6.89386 15.998 8C15.9964 9.10613 15.7863 10.1461 15.3676 11.12C14.949 12.0939 14.3791 12.9405 13.658 13.66C12.937 14.3795 12.0903 14.9496 11.118 15.3704C10.1458 15.7912 9.10577 16.0011 7.99804 16Z"
              fill="#424040"
            />
          </svg>
        </button>
        <span className={styles.quantity}>{quantity}</span>
        <button
          className={styles.button}
          onClick={handleIncrement}
          disabled={quantity >= maxQuantity}
        >
          <svg
            width="15"
            height="16"
            viewBox="0 0 15 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.74804 8.8V11.2C6.74804 11.4267 6.82004 11.6168 6.96404 11.7704C7.10804 11.924 7.28604 12.0005 7.49804 12C7.71004 11.9995 7.88829 11.9227 8.03279 11.7696C8.17729 11.6165 8.24904 11.4267 8.24804 11.2V8.8H10.498C10.7105 8.8 10.8888 8.7232 11.0328 8.5696C11.1768 8.416 11.2485 8.22613 11.248 8C11.2475 7.77386 11.1755 7.584 11.032 7.4304C10.8885 7.2768 10.7105 7.2 10.498 7.2H8.24804V4.8C8.24804 4.57333 8.17604 4.38347 8.03204 4.2304C7.88804 4.07733 7.71004 4.00053 7.49804 4C7.28604 3.99947 7.10804 4.07627 6.96404 4.2304C6.82004 4.38453 6.74804 4.5744 6.74804 4.8V7.2H4.49804C4.28555 7.2 4.10755 7.2768 3.96405 7.4304C3.82055 7.584 3.74855 7.77386 3.74805 8C3.74755 8.22613 3.81955 8.41626 3.96405 8.5704C4.10855 8.72453 4.28655 8.80106 4.49804 8.8H6.74804ZM7.49804 16C6.46054 16 5.48554 15.7899 4.57305 15.3696C3.66055 14.9493 2.8668 14.3795 2.1918 13.66C1.5168 12.9405 0.982547 12.0939 0.589047 11.12C0.195548 10.1461 -0.00145218 9.10613 -0.00195218 8C-0.00245218 6.89386 0.194548 5.85387 0.589047 4.88C0.983547 3.90613 1.5178 3.05947 2.1918 2.34C2.8658 1.62053 3.65955 1.05067 4.57305 0.6304C5.48654 0.210133 6.46154 0 7.49804 0C8.53454 0 9.50954 0.210133 10.423 0.6304C11.3365 1.05067 12.1303 1.62053 12.8043 2.34C13.4783 3.05947 14.0128 3.90613 14.4078 4.88C14.8028 5.85387 14.9995 6.89386 14.998 8C14.9965 9.10613 14.7995 10.1461 14.407 11.12C14.0145 12.0939 13.4803 12.9405 12.8043 13.66C12.1283 14.3795 11.3345 14.9496 10.423 15.3704C9.51154 15.7912 8.53654 16.0011 7.49804 16Z"
              fill="#424040"
            />
          </svg>
        </button>
      </div>
    </div>
  );
}
